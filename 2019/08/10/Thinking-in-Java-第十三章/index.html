

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;light&#34;>



<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="来啦，老弟，这里是 AKA 190">
  <meta name="author" content="190coder">
  <meta name="keywords" content="Java Php hexo Thinking in Java">
  <title>Thinking in Java 第十三章 - 190呐</title>

  <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css">


  <link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css">
  <link rel="stylesheet" href="/lib/hint/hint.min.css">

  
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css">
  

  


<!-- 主题依赖的图标库，不要自行修改 -->
<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_6peoq002giu.css">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">

<link rel="stylesheet" href="/css/main.css">

<!-- 自定义样式保持在最底部 -->


  <script src="/js/utils.js"></script>
  <script src="/js/color-schema.js"></script>
</head>


<body>
  <header style="height: 60vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>190coder</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2019-08-10 23:28" pubdate>
      2019年8月10日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      61
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">Thinking in Java 第十三章</h1>
            
            <div class="markdown-body" id="post-body">
              <h1 id="第十三章-字符串"><a href="#第十三章-字符串" class="headerlink" title="第十三章 字符串"></a>第十三章 字符串</h1><p>字符串操作是程序设计中的最常见的行为。</p>
<h2 id="13-1-不可变的string"><a href="#13-1-不可变的string" class="headerlink" title="13.1 不可变的string"></a>13.1 不可变的string</h2><p> String对象是不可变的，每一个看似修改了String值的方法，实际都是产生了一个新的字符串。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> class Immutable &#123;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> upCase(<span class="hljs-keyword">String</span> s)&#123;
		<span class="hljs-built_in">return</span> s.toUpperCase();
	&#125;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;
		<span class="hljs-keyword">String</span> q = <span class="hljs-string">"howdy"</span>;
		System.out.<span class="hljs-built_in">println</span>(q);
		<span class="hljs-keyword">String</span> qq = upCase(q);
		System.out.<span class="hljs-built_in">println</span>(qq);
		System.out.<span class="hljs-built_in">println</span>(q);
	&#125;
&#125;</code></pre></div>

<p>当把q传给upCase方法时，实际上传递的是引用的一个拷贝。</p>
<p>方法的参数是用来传递信息的，而不是用来改变原有对象本身的。</p>
<h2 id="13-2-重载“-”与StringBuilder"><a href="#13-2-重载“-”与StringBuilder" class="headerlink" title="13.2 重载“+”与StringBuilder"></a>13.2 重载“+”与StringBuilder</h2><p>String对象是不可变的，所以指向它的任何引用都不会改变该对象的值。不可变性会对效率带来一个问题，为String对象重载“+”操作符就是一个例子，重载的意思是一个操作符应用与特定的类时被赋有特殊的意义。（用于String的“+”和”+=”是Java中仅有的两个重载过的操作符，Java不允许程序员自己重载操作符）<br>操作符“+”可以用来连接两个String</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> class Concatetion &#123;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;
		<span class="hljs-keyword">String</span> mango = <span class="hljs-string">"mango"</span>;
		<span class="hljs-keyword">String</span> s = <span class="hljs-string">"abc"</span> + mango + <span class="hljs-string">"def"</span> + <span class="hljs-number">42</span>;
		System.out.<span class="hljs-built_in">println</span>(s);
	&#125;
&#125;</code></pre></div>

<p>&emsp;&emsp;上述代码的运行过程可能是这样的：<strong>String可能有一个append方法，然后它会生成一个新的String对象用来连接abc和mango，然后该对象再与def相连生成新的对象，依次类推</strong>。这样做的话会产生很多中间垃圾需要清理因此它效率极低。<br>可以使用JDK自带的反编译工具查看上述代码如何工作。</p>
<p>&emsp;&emsp;在编写一个类似toString（）的方法时，如果字符串较短时，我们可以使用普通的拼接方式，当字符串操作较为复杂的时候，我们在代码中直接创建一个StringBuilder对象进行操作效率会更加优异。</p>
<h2 id="13-3-无意识的递归"><a href="#13-3-无意识的递归" class="headerlink" title="13.3 无意识的递归"></a>13.3 无意识的递归</h2><p>使用toString（）方法打印出对象的内存地址，那么我们可能会考虑使用this关键字：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InfiniteRecursion</span> &#123;</span>
	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span></span>&#123;
		<span class="hljs-keyword">return</span> <span class="hljs-string">"InfiniteRecursion address"</span> + <span class="hljs-keyword">this</span>;
	&#125;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;
		List&lt;InfiniteRecursion&gt; v = <span class="hljs-keyword">new</span> ArrayList&lt;InfiniteRecursion&gt;();
		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;
			v.add(<span class="hljs-keyword">new</span> InfiniteRecursion());
		&#125;
		System.out.println(v);
	&#125;
&#125;</code></pre></div>

<p>这里当运行</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">return</span> <span class="hljs-string">"InfiniteRecursion address"</span> + <span class="hljs-keyword">this</span>;</code></pre></div>

<p>时发生了类型转换，编译器发现“+”后边不是String类型，会试图转换成String类型，转换的方式就是调用toString方法，因此会递归调用，此处如果想正确打印地址，那么需要使用其基类Object的toString（）方法。</p>
<h2 id="13-4-String上的操作"><a href="#13-4-String上的操作" class="headerlink" title="13.4 String上的操作"></a>13.4 String上的操作</h2><p>所有的类都是Class类的对象，使用Class类的getMethods（）方法可以返回该类的所有方法：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StringMethods</span> &#123;</span>
	<span class="hljs-keyword">public</span> static void main(String[] args) &#123;
		<span class="hljs-class"><span class="hljs-keyword">Class</span>&lt;<span class="hljs-title">String</span>&gt; <span class="hljs-title">c</span> = <span class="hljs-title">String</span>.<span class="hljs-title">class</span>;</span>
		<span class="hljs-function"><span class="hljs-keyword">Method</span>[] <span class="hljs-title">methods</span> =</span> c.getMethods();
		<span class="hljs-keyword">for</span>(<span class="hljs-function"><span class="hljs-keyword">Method</span> <span class="hljs-title">method</span> :</span>methods)&#123;
			System.out.println(<span class="hljs-function"><span class="hljs-keyword">method</span>);</span>
		&#125;
	&#125;
&#125;</code></pre></div>

<div class="hljs"><pre><code class="hljs undefined">public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.hashCode</span>()
<span class="hljs-comment">//比较两个字符串 重载了Object的方法 当两个字符串值相同、类型相同则认为相同 忽略了引用</span>
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.equals</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span>)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toString</span>()
<span class="hljs-comment">//获取指定索引下标位置上的字符</span>
public char java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.charAt</span>(int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.codePointAt</span>(int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.codePointBefore</span>(int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.codePointCount</span>(int,int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.compareTo</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span>)
<span class="hljs-comment">//按词典顺序比较两个字符串 大小写并不等价</span>
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.compareTo</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.compareToIgnoreCase</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
<span class="hljs-comment">//字符串连接 返回一个新的String为指定String连接参数</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.concat</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
<span class="hljs-comment">//查找字符串中是否包含指定字符 存在返回true</span>
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.contains</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.CharSequence</span>)
<span class="hljs-comment">//比较两个字符串</span>
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.contentEquals</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.StringBuffer</span>)
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.contentEquals</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.CharSequence</span>)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.copyValueOf</span>(char[])
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.copyValueOf</span>(char[],int,int)
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.endsWith</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
<span class="hljs-comment">//比较字符串是否相同 忽略大小写</span>
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.equalsIgnoreCase</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.format</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span>[])
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.format</span>(java<span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.Locale</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span>[])
public void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.getBytes</span>(int,int,byte[],int)
public byte[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.getBytes</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>) throws java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.UnsupportedEncodingException</span>
public byte[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.getBytes</span>(java<span class="hljs-selector-class">.nio</span><span class="hljs-selector-class">.charset</span><span class="hljs-selector-class">.Charset</span>)
public byte[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.getBytes</span>()
<span class="hljs-comment">// s.getChars(1,2,char,3) 赋值s串中下标为1-2的到char中 char中起始位置为3</span>
public void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.getChars</span>(int,int,char[],int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.indexOf</span>(int,int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.indexOf</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int)
<span class="hljs-comment">//是否包含该字符 包含返回下标 否则返回-1</span>
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.indexOf</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.indexOf</span>(int)
public native java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.intern</span>()
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.isEmpty</span>()
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.lastIndexOf</span>(int,int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.lastIndexOf</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.lastIndexOf</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.lastIndexOf</span>(int)
<span class="hljs-comment">//String 中字符的个数</span>
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.length</span>()
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.matches</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public int java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.offsetByCodePoints</span>(int,int)
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.regionMatches</span>(boolean,int,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int,int)
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.regionMatches</span>(int,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int,int)
<span class="hljs-comment">//把字符串中的第一个参数字符替换成第二个</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.replace</span>(char,char)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.replace</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.CharSequence</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.CharSequence</span>)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.replaceAll</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.replaceFirst</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.split</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.split</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.startsWith</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>,int)
<span class="hljs-comment">//字符串起始串</span>
public boolean java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.startsWith</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span>)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.CharSequence</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.subSequence</span>(int,int)
<span class="hljs-comment">//字符串截断</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.substring</span>(int)
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.substring</span>(int,int)
<span class="hljs-comment">//返回一个字符数组，该字符数组包含字符串的所有字符</span>
public char[] java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toCharArray</span>()
<span class="hljs-comment">//字符串字符转换成小写</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toLowerCase</span>()
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toLowerCase</span>(java<span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.Locale</span>)
<span class="hljs-comment">//字符串字符转换成大写</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toUpperCase</span>()
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.toUpperCase</span>(java<span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.Locale</span>)
<span class="hljs-comment">//删除String两端的空白字符</span>
public java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.trim</span>()
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(char)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(<span class="hljs-attribute">float</span>)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(int)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(long)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(double)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span>)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(char[])
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(char[],int,int)
public static java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.String</span><span class="hljs-selector-class">.valueOf</span>(boolean)
public final native java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Class</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.getClass</span>()
public final native void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.notify</span>()
public final native void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.notifyAll</span>()
public final void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.wait</span>(long,int) throws java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.InterruptedException</span>
public final native void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.wait</span>(long) throws java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.InterruptedException</span>
public final void java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.Object</span><span class="hljs-selector-class">.wait</span>() throws java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.InterruptedException</span></code></pre></div>

<h2 id="13-5-格式化输出"><a href="#13-5-格式化输出" class="headerlink" title="13.5 格式化输出"></a>13.5 格式化输出</h2><p>JavaSE5提供了格式化输出功能，这一功能使得控制输出的功能变得更加简单，同时也给开发者带来了更加强大的代码输出控制能力。JavaSE5引入的format方法可以用于PrintStream或PrintWriter对象，其中也包括System.out对象。format（）方法模仿在C语言的printf（）如下简单示例</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SimpleFormat</span> &#123;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;
		<span class="hljs-keyword">int</span> x = <span class="hljs-number">5</span>;
		<span class="hljs-keyword">double</span> y = <span class="hljs-number">5.333221</span>;
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Row1: ["</span> + x + <span class="hljs-string">" "</span> + y + <span class="hljs-string">"]"</span>);
		System.<span class="hljs-keyword">out</span>.format(<span class="hljs-string">"Row1: [%d %f]\n"</span>,x,y);
		System.<span class="hljs-keyword">out</span>.printf(<span class="hljs-string">"Row1: [%d %f]\n"</span>,x,y);
	&#125;
&#125;</code></pre></div>

<p>format（）与printf（）相同，只需要加上对应的格式化字符即可。<br>Java中所有新的格式化功能都由java.util.Formatter类处理，可以将其看做是一个翻译器，它将你的格式化字符串和数据翻译成想要的结果。当你创建了一个Formatter对象的时候，需要向编译器传递一些信息，告诉他最终的结果将向哪里输出。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.io.PrintStream;
<span class="hljs-keyword">import</span> java.util.Formatter;
<span class="hljs-keyword">public</span> class Tutle &#123;
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> name;
	<span class="hljs-keyword">private</span> Formatter f;
	<span class="hljs-keyword">public</span> Tutle(<span class="hljs-keyword">String</span> name,Formatter f)&#123;
		<span class="hljs-keyword">this</span>.f = f;
		<span class="hljs-keyword">this</span>.name = name;
	&#125;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-built_in">move</span>(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)&#123;
		f.format(<span class="hljs-string">"%s The Tutle is at (%d,%d)\n"</span>,name,x,y);
	&#125;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;
		Tutle tommy = <span class="hljs-keyword">new</span> Tutle(<span class="hljs-string">"Tommy"</span>,<span class="hljs-keyword">new</span> Formatter(System.out));
		Tutle terry = <span class="hljs-keyword">new</span> Tutle(<span class="hljs-string">"Terry"</span>,<span class="hljs-keyword">new</span> Formatter(System.err));
		tommy.<span class="hljs-built_in">move</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);
		terry.<span class="hljs-built_in">move</span>(<span class="hljs-number">4</span>, <span class="hljs-number">8</span>);
	&#125;
&#125;</code></pre></div>

<p> 有的时候我们希望做一些更精致的格式化信息，比如控制空格与对齐，最常见的是控制域的最小尺寸，这可以通过指定width实现，Formatter对象通过在必要时添加空格，来确保一个域至少达到某个长度。默认情况下域是右对齐的，不过也可以通过“-”指定数据的对齐方式。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.util.Formatter;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Reciept</span> &#123;</span>
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> total = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">private</span> Formatter f = <span class="hljs-keyword">new</span> Formatter(System.out);
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printTitle</span><span class="hljs-params">()</span></span>&#123;
		f.format(<span class="hljs-string">"%-15s %5s %10s\n"</span>,<span class="hljs-string">"Item"</span>,<span class="hljs-string">"Qty"</span>,<span class="hljs-string">"Price"</span>);
		f.format(<span class="hljs-string">"%-15s %5s %10s\n"</span>,<span class="hljs-string">"----"</span>,<span class="hljs-string">"---"</span>,<span class="hljs-string">"-----"</span>);
	&#125;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(String name,<span class="hljs-keyword">int</span> qty,<span class="hljs-keyword">double</span> price)</span></span>&#123;
		f.format(<span class="hljs-string">"%-15.15s %5d %10.2f\n"</span>,name,qty,price);
		total+=price;
	&#125;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printTotal</span><span class="hljs-params">()</span></span>&#123;
		f.format(<span class="hljs-string">"%-15.15s %5s %10.2f\n"</span>,<span class="hljs-string">"Tax"</span>,<span class="hljs-string">""</span>,total*<span class="hljs-number">0.06</span>);
		f.format(<span class="hljs-string">"%-15.15s %5s %10s\n"</span>,<span class="hljs-string">""</span>,<span class="hljs-string">""</span>,<span class="hljs-string">"------"</span>);
		f.format(<span class="hljs-string">"%-15.15s %5s %10.2f\n"</span>,<span class="hljs-string">"Total"</span>,<span class="hljs-string">""</span>,total*<span class="hljs-number">1.06</span>);
	&#125;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;
		Reciept receipt = <span class="hljs-keyword">new</span> Reciept();
		receipt.printTitle();
		receipt.print(<span class="hljs-string">"Jack's Magic Beans"</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4.25</span>);
		receipt.print(<span class="hljs-string">"Princess Beans"</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5.1</span>);
		receipt.print(<span class="hljs-string">"Thres Bears Porridge"</span>,<span class="hljs-number">1</span>,<span class="hljs-number">14.25</span>);
		receipt.printTotal();
	&#125;
&#125;</code></pre></div>

<p>Formatter类也有很多类型转换，常用的类型转换如下</p>
<p>d：整数型（十进制）e：浮点数（科学计数）c：Unicode字符 x：整数（十六进制）b：Boolean值 h：散列码（十六进制）s：String %：字符“%”f：浮点数（十进制），针对不同的数据类型，有些转换是无效的，如果强制使用则会发生异常。</p>
<h2 id="13-6-正则表达式"><a href="#13-6-正则表达式" class="headerlink" title="13.6 正则表达式"></a>13.6 正则表达式</h2><p>&emsp;&emsp;正则表达式就是以某种方式来描述字符串，因此你可以说“如果一个字符串含有某些东西，那么它就是我需要的东西”。\d表示一位数字，Java中对于\反斜线有不同的处理，在其它语言中，\表示我想插入一个普通的反斜线，而在Java中\表示我将要插入一个正则表达式反斜线，所以它后边的值应该具有特殊意义。例如你想表示一个数字，那么就是\d，如果想插入一个普通的反斜线，则需要使用\，不过制表之类的应该使用单反斜线，\d\n，使用？表示可能存在，使用+表示一个或多个+之前的表达式。比如我们要判断可能有一个负号后边跟着一个或多个数字则使用：-？\d+</p>
<p>&emsp;&emsp;应用正则的最简单方式是使用String类提供的方法：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IntegerMatch</span> &#123;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"-1234"</span>.matches(<span class="hljs-string">"-?\\d+"</span>));
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"5678"</span>.matches(<span class="hljs-string">"-?\\d+"</span>));
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"+911"</span>.matches(<span class="hljs-string">"-?\\d+"</span>));
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"+911"</span>.matches(<span class="hljs-string">"(-|\\+)?\\d+"</span>));
	&#125;
&#125;</code></pre></div>

<p> &emsp;&emsp;String类还带有一个非常有用的正则表达式方法split（），功能是将字符串在正则表达式匹配的地方分割开：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.util.Arrays;
 <span class="hljs-keyword">public</span> class Splitting &#123; 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> knights = <span class="hljs-string">"Then。when you have found the shrubbery.you must"</span> + <span class="hljs-string">"cut down the mightiest tree in the forest。。。"</span> + <span class="hljs-string">"with... a herring"</span>; 

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-built_in">split</span>(<span class="hljs-keyword">String</span> regex)&#123; System.out.<span class="hljs-built_in">println</span>(Arrays.toString(knights.<span class="hljs-built_in">split</span>(regex))); &#125;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123; 
          <span class="hljs-built_in">split</span>(<span class="hljs-string">" "</span>); 
          <span class="hljs-built_in">split</span>(<span class="hljs-string">"\\W+"</span>);
          <span class="hljs-built_in">split</span>(<span class="hljs-string">"\\w+"</span>);
          <span class="hljs-built_in">split</span>(<span class="hljs-string">"n\\W+"</span>); 
          &#125; 
    &#125;</code></pre></div>

<p>&emsp;&emsp;第一个是使用空格拆分，\W表示非单词字符，\w表示单词字符，第三个表示字母n以及后边的一个或多个非单词字符。可见与正则表达式相同的内容都消失了。</p>
<p>&emsp;&emsp;String类自带的最后一个正则表达式方法为替换，你可以替换正则表达式第一个匹配的子串，也可以替换所有匹配的地方。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Replacing</span> &#123;  
    <span class="hljs-keyword">static</span> String s = Splitting.knights;  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;  
        System.<span class="hljs-keyword">out</span>.println(s.replaceFirst(<span class="hljs-string">"f\\w+"</span>,<span class="hljs-string">"located"</span>));  
        System.<span class="hljs-keyword">out</span>.println(s.replaceAll(<span class="hljs-string">"shrubbery|tree|herring"</span>,<span class="hljs-string">"banana"</span>));  
    &#125;  
&#125;</code></pre></div>

<p>&emsp;&emsp;我们的任务是在能够完成任务的情况下编写简单的易于理解的正则表达式，而不是编写难以理解的正则表达式。<br>我们在使用正则表达式的时候很容易混淆，因为他是一种在Java之上的新语言，CharSequence，该接口从CharBuffer、String、StringBuffer、StringBuilder类之中抽象出了字符序列的一般化定义。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">CharSequence</span> &#123;
	<span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">charAt</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> i </span>)</span>;
	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">length</span>(<span class="hljs-params"></span>)</span>;
	<span class="hljs-function">String <span class="hljs-title">subSequence</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> start,<span class="hljs-keyword">int</span> end</span>)</span>;
	<span class="hljs-function">String <span class="hljs-title">toString</span>(<span class="hljs-params"></span>)</span>;
&#125;</code></pre></div>

<h2 id="13-7-扫描输入"><a href="#13-7-扫描输入" class="headerlink" title="13.7 扫描输入"></a>13.7 扫描输入</h2><p>&emsp;&emsp;读取文本或者从标准输入读取数据一般的解决方法是读入一行文本，然后对其进行分词，然后使用Integer、Double的各种解析方法来解析数据。</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.io.<span class="hljs-keyword">BufferedReader</span>;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.StringReader;
 
<span class="hljs-keyword">public</span> class SimpleRead &#123;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">BufferedReader</span> input = <span class="hljs-keyword">new</span> <span class="hljs-keyword">BufferedReader</span>(<span class="hljs-keyword">new</span> StringReader(<span class="hljs-string">"Sir Robin of Camelot\n22 1.523222"</span>));
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;
		<span class="hljs-keyword">try</span>&#123;
			System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"What's your name?"</span>);
			<span class="hljs-keyword">String</span> name = input.readLine();
			System.out.<span class="hljs-built_in">println</span>(name);
			System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"How old are you?What's your favorite double"</span>);
			<span class="hljs-keyword">String</span> numbers = input.readLine();
			System.out.<span class="hljs-built_in">println</span>(numbers);
			<span class="hljs-keyword">String</span> numArray[] = numbers.<span class="hljs-built_in">split</span>(<span class="hljs-string">" "</span>);
			<span class="hljs-built_in">int</span> age = Integer.parseInt(numArray[<span class="hljs-number">0</span>]);
			<span class="hljs-keyword">double</span> favorite = Double.parseDouble(numArray[<span class="hljs-number">1</span>]);
			System.out.format(<span class="hljs-string">"Hi %s.\n"</span>,name);
			System.out.format(<span class="hljs-string">"In 5 years you will be %d. \n"</span>,age+<span class="hljs-number">5</span>);
			System.out.format(<span class="hljs-string">"My Favorite double is %f."</span>,favorite/<span class="hljs-number">2</span>);
			&#125;<span class="hljs-keyword">catch</span>(IOException e)&#123;
				System.err.<span class="hljs-built_in">println</span>(<span class="hljs-string">"I/O Exception"</span>);
			&#125;
	&#125;
&#125;</code></pre></div>

<p>&emsp;&emsp;以上代码中，使用了IO中的readLine（）方法读取输入流中的一行，然后进行解析。终于在JavaSE5新增了Scanner类，它可以大大的减轻扫描输入的工作。</p>
<div class="hljs"><pre><code class="hljs undefined">import java.util.Scanner;
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BetterRead</span> &#123;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;
		Scanner stdin = <span class="hljs-keyword">new</span> Scanner(SimpleRead.input);
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"What's your name?"</span>);
		String name = stdin.nextLine();
		System.<span class="hljs-keyword">out</span>.println(name);
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"How old are you?What's your favorite double"</span>);
		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"(input:&lt;age&gt;&lt;double&gt;)"</span>);
		<span class="hljs-keyword">int</span> age = stdin.nextInt();
		<span class="hljs-keyword">double</span> favorite = stdin.nextDouble();
		System.<span class="hljs-keyword">out</span>.println(age);
		System.<span class="hljs-keyword">out</span>.println(favorite);
		System.<span class="hljs-keyword">out</span>.format(<span class="hljs-string">"Hi %s.\n"</span>,name);
		System.<span class="hljs-keyword">out</span>.format(<span class="hljs-string">"In 5 years you will be %d. \n"</span>,age+<span class="hljs-number">5</span>);
		System.<span class="hljs-keyword">out</span>.format(<span class="hljs-string">"My Favorite double is %f."</span>,favorite/<span class="hljs-number">2</span>);
	&#125;
&#125;</code></pre></div>

<p>&emsp;&emsp;Scanner的构造器可以接受任意类型的输入对象，其普通的next方法将返回一个String，而所有的基本类型都有一个next方法，该方法的作用是，读取到下一个完整的指定类型的分词之后才返回。同时Scanner还有对应的hasNext方法，用来判断是否有所输入分词的类型。<br>Scanner默认的定界符为空白符，我们也可以自己使用正则表达式指定分隔符：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> java.util.Scanner;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScannerDelimiter</span> </span>&#123;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) &#123;
		Scanner scanner = <span class="hljs-keyword">new</span> Scanner(<span class="hljs-string">"12,24    ,35,67"</span>);
		scanner.useDelimiter(<span class="hljs-string">"\\s*,\\s*"</span>);
		<span class="hljs-keyword">while</span>(scanner.hasNextInt())&#123;
			System.out.println(scanner.nextInt());
		&#125;
	&#125;
&#125;</code></pre></div>

<p>&emsp;&emsp;这个例子使用逗号以及任意的空白字符来实现字符串的分割。使用useDelimiter（）方法设置定界符，也可以使用delimiter（）方法返回现在所使用的定界符。</p>
<p>&emsp;&emsp;Scanner除了可以扫描基本类型外，还可以扫描正则表达式，这在扫描复杂数据类型的时候非常有用：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.util.Scanner;
<span class="hljs-keyword">import</span> java.util.regex.MatchResult;
 
<span class="hljs-keyword">public</span> class ThreadAnalyzer &#123;
	<span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> threatData = <span class="hljs-string">"58.27.82.161@02/10/2005\n"</span> +
								<span class="hljs-string">"204.45.234.40@02/11/2005\n"</span> +
								<span class="hljs-string">"58.27.82.161@02/11/2005\n"</span> +
								<span class="hljs-string">"58.27.82.161@02/11/2005\n"</span> +
								<span class="hljs-string">"58.27.82.161@02/11/2005\n"</span> +
								<span class="hljs-string">"[Next log section width different data format]"</span>;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;
		Scanner scanner = <span class="hljs-keyword">new</span> Scanner(threatData);
		<span class="hljs-keyword">String</span> pattern = <span class="hljs-string">"(\\d+[.]\\d+[.]\\d+[.]\\d+)@"</span> + <span class="hljs-string">"(\\d&#123;2&#125;/\\d&#123;2&#125;/\\d&#123;4&#125;)"</span>;
		<span class="hljs-keyword">while</span>(scanner.hasNext(pattern))&#123;
			scanner.next(pattern);
			MatchResult <span class="hljs-built_in">match</span> = scanner.<span class="hljs-built_in">match</span>();
			<span class="hljs-keyword">String</span> ip = <span class="hljs-built_in">match</span>.group(<span class="hljs-number">1</span>);
			<span class="hljs-keyword">String</span> date = <span class="hljs-built_in">match</span>.group(<span class="hljs-number">2</span>);
			System.out.format(<span class="hljs-string">"Thread on %s from %s\n"</span>,date,ip);
			
		&#125;
	&#125;
	
&#125;</code></pre></div>

<p>&emsp;&emsp;当next（）方法配合指定正则表达式使用时，将找到下一个匹配该模式的输入部分，调用match（）方法获得匹配的结果。有一点需要注意，它只针对下一个输入分词进行匹配，如果正则表达式含有定界符，那将永远不能成功。</p>
<h1 id="13-8-StringTokenizer"><a href="#13-8-StringTokenizer" class="headerlink" title="13.8 StringTokenizer"></a>13.8 StringTokenizer</h1><p>&emsp;&emsp;在正则表达式和Scanner引入之前，我们使用的是StringTokenizer来进行字符串匹配，下面演示这种方式并与其它方式进行比较：</p>
<div class="hljs"><pre><code class="hljs undefined"><span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.Scanner;
<span class="hljs-keyword">import</span> java.util.StringTokenizer;
 
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReplacingStringTokenizer</span> </span>&#123;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-type">String</span>[] args) &#123;
		<span class="hljs-type">String</span> input = <span class="hljs-string">"But I'm not dead yet!I feel happy!"</span>;
		<span class="hljs-type">StringTokenizer</span> stoke = new <span class="hljs-type">StringTokenizer</span>(input);
		<span class="hljs-keyword">while</span>(stoke.hasMoreElements())&#123;
			<span class="hljs-type">System</span>.out.<span class="hljs-built_in">print</span>(stoke.nextToken() + <span class="hljs-string">" "</span>);
		&#125;
		<span class="hljs-type">System</span>.out.<span class="hljs-built_in">println</span>();
			<span class="hljs-type">System</span>.out.<span class="hljs-built_in">println</span>(<span class="hljs-type">Arrays</span>.<span class="hljs-built_in">toString</span>(input.<span class="hljs-built_in">split</span>(<span class="hljs-string">" "</span>)));
			<span class="hljs-type">Scanner</span> scanner = new <span class="hljs-type">Scanner</span>(input);
			<span class="hljs-keyword">while</span>(scanner.hasNext())&#123;
				<span class="hljs-type">System</span>.out.<span class="hljs-built_in">print</span>(scanner.next() + <span class="hljs-string">" "</span>);
			&#125;
	
	&#125;
&#125;</code></pre></div>

<p>&emsp;&emsp;使用正则表达式或者Scanner我们可以使用更加复杂的模式匹配字符串，而使用StringTokenizer则很困难了，因此实际上StringTokenizer这个类基本上已经被废弃了。</p>
<h2 id="13-9-总结"><a href="#13-9-总结" class="headerlink" title="13.9 总结"></a>13.9 总结</h2><ol>
<li>String类型作为程序设计中最为常见的一种操作类型，它是一种不可变的操作类型。</li>
<li>它内部重载了“+”操作符，使得可以使用”+”操作符完成字符串的拼接工作，拼接的原理是编译器为我们自动生成了StringBuilder类来完成。因此对于复杂的字符串拼接操作，我们自己使用StringBuilder效率会更高一些。</li>
<li>String还有很多常用的方法，正则表达式为我们提供了字符串匹配的多种形式。</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Java/">Java</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/08/10/Thinking-in-Java-第十四章/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Thinking in Java 第十四章</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/08/07/kafka-个人理解以及常用应用场景-kafka-zookeeper-无坑搭建/">
                        <span class="hidden-mobile">kafka 个人理解以及常用应用场景 & kafka zookeeper 无坑搭建</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    
  <!-- 备案信息 -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">京ICP证123456号</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/img/police_beian.png" srcset="/img/loading.gif" alt="police-icon" />
        
        <span>京公网安备12345678号</span>
      </a>
     
  </div>


    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Thinking in Java 第十三章&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
